# bitcoin

- 區塊鏈的原理
  - https://github.com/anders94/blockchain-demo
  - https://andersbrownworth.com/blockchain/

## mining.py

```
$ python mining.py
{'record': {'nonce': 307182, 'data': 'john => mary $2.7'}, 'hash': '0000073c850a6c3a339772a95b2a0e7c2211a5c217508a58b631d3e50736b6a0'}
```

改為 random 版之後

```

```

### 理論推導

- SHA-256 的輸出是隨機均勻分佈在 16 進位字串（64 個字元，每個字元 4 bit = 256 bit）。
- 在 16 進位裡，0 代表 0000（二進位）。
  例子：
  0 (16 進位) → 0000 (二進位)
  00 (16 進位) → 0000 0000 (二進位，8 個 0)

要求 hash 開頭有 n 個 0，就是要求 前 4n 個 bits = 0。
每多 1 個 0，就多 4 個條件 bits。
因為每個 bit 只有一半機率是 0，所以難度會乘上 2⁴ = 16 倍。

- 所以：

  - prefix = `0000` (4 個 0) → 條件機率 = (1/16)⁴ = 1/65,536
  - prefix = `00000` (5 個 0) → 條件機率 = (1/16)⁵ = 1/1,048,576

### 倍數關係

- 期望嘗試次數是機率的倒數。
- 所以 `00000` 比 `0000` **多 16 倍**的嘗試數。

  - 因為每多 1 個 0，就多一個 4 bit 的限制 → 機率再除以 16。

### 總結

- **差 1 個 0 ≈ 多 16 倍的嘗試次數**。
- 同樣也意味著平均耗時大約會增加 16 倍（如果電腦效能和隨機分佈假設不變）。
